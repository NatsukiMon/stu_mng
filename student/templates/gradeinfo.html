<html>
<head>
    <title>学生成绩管理</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- 引入 Bootstrap -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
    <!-- HTML5 Shiv 和 Respond.js 用于让 IE8 支持 HTML5元素和媒体查询 -->
    <!-- 注意： 如果通过 file://  引入 Respond.js 文件，则该文件无法起效果 -->
    <!--[if lt IE 9]>
     <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
     <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
    <script>
        function showStudent(str1,str2,str3)
        {
            var xmlhttp;    
            if (str=="")
            {
                document.getElementById("txtHint").innerHTML="";
                return;
            }
            if (window.XMLHttpRequest)
            {
                // IE7+, Firefox, Chrome, Opera, Safari 浏览器执行代码
                xmlhttp=new XMLHttpRequest();
            }
            else
            {
                // IE6, IE5 浏览器执行代码
                xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
            }
            xmlhttp.onreadystatechange=function()
            {
                if (xmlhttp.readyState==4 && xmlhttp.status==200)
                {
                document.getElementById("txtHint").innerHTML=xmlhttp.responseText;
                }
            }
            xmlhttp.open("GET","?sno="+str1+"&?sname="+str2+"&?sclassno="+str3,true);
            xmlhttp.send();
        } 
    </script>
    <style type="text/css">
      body{
	      background-image: url(/static/2.jpg);
	      background-repeat: no-repeat;
	      background-position: center;
        background-size: 100% 100%;
        background-attachment: fixed;
        
      }
      #content{
				text-align-last: center;
				/*这里做一个半透明效果*/
				filter:alpha(Opacity=60);
				-moz-opacity:0.8;
				opacity: 0.8;
			}
      h2{
        color:#ffffff;
        text-align: center;
				font-family:"龙书陈忠建文青简繁-闪";
        font-size: 40px;		
			}
      #footer {
				height: 30px;
				line-height: 40px;
				position: fixed;
				bottom: 0;
				width: 100%;
				text-align: center;
				background: #213342;
				color: #fff;
				font-family: Arial;
				font-size: 12px;
				letter-spacing: 1px;
			}
			.content {
				height: 1800px;
				width: 100%;
				text-align: center;
			}
    </style>
</head>

<body >
<div id="txtHint">
<h2>学生成绩信息表</h2>
<div id="content">
<div class="row">
<div class="table-responsive padding-sm col-md-10 col-md-offset-1">
  <table class="table table-bordered table-hover"> 
    <div class="btn-group btn-group-justified">
      <a href="http://127.0.0.1:8000/studentinfo" class="btn btn-info">学生学籍信息</a>
    </div>
    <div class="btn-group btn-group-justified">
      <div class="btn-group">
        <a href="http://127.0.0.1:8000/gradeinfo" class="btn btn-success">全部学生成绩</a></div>
      <div class="btn-group"><form action="">
        <input type="text" class="form-control" name="sno" onchange="showStudent(this.values,,)" placeholder="输入学号查询,示例:20200001">
      </form></div>
      <div class="btn-group"><form action="">
        <input type="text" class="form-control" name="sname" onchange="showStudent(,this.value,)" placeholder="输入姓名查询,示例:学生1">
      </form></div>
      <div class="btn-group"><form action="">
        <input type="text" class="form-control" name="sclassno" onchange="showStudent(,,this.value)" placeholder="输入班号查询,示例:1001">
      </form></div>      
    </div> 
    <thead>
      <tr class="active">
        <th>学号</th>
        <th>姓名</th>
        <th>班号</th>
        <th>平均成绩</th>
        <th>操作</th>
      </tr>
    </thead>
    <tbody>
    {% for grade in grade_list %}
<tr class="active">
<td>{{ grade.student_no }}</td>
<td>{{ grade.student_name }}</td>
<td>{{ grade.class_no }}</td>
<td>{{ grade.grade_avg }}</td>
<td><a href="http://127.0.0.1:8000/scinfo/?sc_no={{ grade.student_no }}" class="btn btn-success btn-sm">成绩详情</a>
</tr>
{% endfor %}
    </tbody>
  </table>
</div>
</div>
</div>
<div id="footer">Copyright © 2022 YIJIU All Rights Reserved.</div>
</div>
</body>
</html>
